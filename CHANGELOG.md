# Change Log

All notable changes to this project will be documented in this file
automatically by Versionist. DO NOT EDIT THIS FILE MANUALLY!
This project adheres to [Semantic Versioning](http://semver.org/).

## 8.0.0 - 2021-05-07

* Update sbvr-types and reflect the usage of BOOLEAN db type [Pagan Gazzard]

## 7.12.4 - 2021-05-04

* Revert "Remove now unnecessary hack for casting SERIAL types" [Pagan Gazzard]

## 7.12.3 - 2021-05-03

* Remove now unnecessary hack for casting SERIAL types [Pagan Gazzard]

## 7.12.2 - 2021-03-22


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### sbvr-types-3.4.2 - 2021-03-22
> 
> * Update dev dependencies [Pagan Gazzard]
> 
> ### sbvr-types-3.4.1 - 2021-02-10
> 
> * Remove unnecessary native fact type entries for synonymous forms [Pagan Gazzard]
> 
> ### sbvr-types-3.4.0 - 2021-02-08
> 
> * Add a `Current Time` name that can be used to refer to the current time [Pagan Gazzard]
> 
> ### sbvr-types-3.3.0 - 2021-02-05
> 
> * Add `is before` & `is after` verbs to the Date & DateTime types [Thodoris Greasidis]
> 
> ### sbvr-types-3.2.0 - 2021-01-29
> 
> * Add support for the `contains` verb to the text type [Thodoris Greasidis]
> * Add support for the`ends with` verb to the text type [Thodoris Greasidis]
> * Add support for the `starts with` verb to the text type [Thodoris Greasidis]
> 
</details>

## 7.12.1 - 2021-03-22

* Enable strict options by default and only disable specific ones [Pagan Gazzard]

## 7.12.0 - 2021-03-05

* Enable narrowing down create/delete referenced fields for nested exists [Pagan Gazzard]

## 7.11.0 - 2021-03-01

* Generalize/share the referenced fields code and cover more cases [Pagan Gazzard]

## 7.10.2 - 2021-02-12

* Fix `getModifiedFields` for `UpsertQuery`s [Pagan Gazzard]

## 7.10.1 - 2021-01-29

* Separate code relating to referenced fields out of the main file [Pagan Gazzard]

## 7.10.0 - 2021-01-29

* Add an `action` property to modified fields of create/update/delete [Pagan Gazzard]
* Automatically add `ruleReferencedFields` to `SqlRule`s [Pagan Gazzard]
* Add a `getRuleReferencedFields` which is tailored for rules [Pagan Gazzard]

## 7.9.1 - 2021-01-29

* Add test for optimizeSchema optimizing rules [Pagan Gazzard]

## 7.9.0 - 2021-01-25

* Optimize the abstract sql of rules when running `optimizeSchema` [Pagan Gazzard]

## 7.8.2 - 2021-01-15

* Fix schema optimizations when table and resource names are different [Pagan Gazzard]

## 7.8.1 - 2021-01-04

* Convert some lodash usage to native equivalents [Pagan Gazzard]

## 7.8.0 - 2021-01-01

* Optimize Is[Not]DistinctFrom and [Not]Exists for non-null values [Pagan Gazzard]

## 7.7.0 - 2021-01-01

* Optimize EXISTS/NOT EXISTS for empty queries [Pagan Gazzard]

## 7.6.0 - 2021-01-01

* Optimize away AND/ORs with false/true respectively [Pagan Gazzard]

## 7.5.0 - 2021-01-01

* Optimize out booleans from AND/OR where possible [Pagan Gazzard]

## 7.4.2 - 2020-12-21

* Improve Relationship typings [Thodoris Greasidis]

## 7.4.1 - 2020-12-18

* Fix `containsNode` when that node type is at the top level [Pagan Gazzard]

## 7.4.0 - 2020-12-18

* Add support for table definitions [Pagan Gazzard]

## 7.3.0 - 2020-12-18

* Allow compiling `*QueryNode`s to direct strings without binds [Pagan Gazzard]

## 7.2.1 - 2020-12-18

* Improve typings for compilation results [Pagan Gazzard]

## 7.2.0 - 2020-12-16

* Add an `optimizeSchema` function [Pagan Gazzard]

## 7.1.0 - 2020-12-09

* Add check constraint support at the table level [Pagan Gazzard]

## 7.0.7 - 2020-12-09

* Convert tests from coffeescript to type-checked javascript [Pagan Gazzard]

## 7.0.6 - 2020-11-30

* Fix the `NOT(NOT(...))` optimization [Pagan Gazzard]

## 7.0.5 - 2020-11-30

* Remove some type casts [Pagan Gazzard]

## 7.0.4 - 2020-11-25


<details>
<summary> Update sbvr-types and make use of `castType` [Pagan Gazzard] </summary>

> ### sbvr-types-3.1.2 - 2020-11-25
> 
> * Add a `castType` property to type functions [Pagan Gazzard]
> 
> ### sbvr-types-3.1.1 - 2020-11-25
> 
> * Update dependencies [Pagan Gazzard]
> 
</details>

## 7.0.3 - 2020-10-02

* Remove accidental `necessity` from the `AbstractSqlField` types [Pagan Gazzard]

## 7.0.2 - 2020-07-10


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### sbvr-types-3.1.0 - 2020-06-17
> 
> * Update dependencies [Pagan Gazzard]
> 
</details>

## 7.0.1 - 2020-07-10

* Improve `BindNode` typing [Pagan Gazzard]

## 7.0.0 - 2020-05-21

* Allow adding to the FromTypeNode set [Pagan Gazzard]
* Rename to @balena/abstract-sql-compiler [Pagan Gazzard]
* Improve typings [Pagan Gazzard]
* Convert all returned promises to native promises instead of bluebird [Pagan Gazzard]
* Update tsconfig to target es2018 [Pagan Gazzard]
* Drop support for node 6/8 [Pagan Gazzard]

<details>
<summary> Update to @balena/sbvr-types 3.0.0 [Pagan Gazzard] </summary>

> ### sbvr-types-3.0.0 - 2020-05-08
> 
> * Convert `fetchProcessing` to synchronous functions [Pagan Gazzard]
> * Update to bcrypt 4.x [Pagan Gazzard]
> * Enable strict tsconfig [Pagan Gazzard]
> * Make use of `import type` where relevant [Pagan Gazzard]
> * Update to balena-lint 5.x [Pagan Gazzard]
> * Rename to @balena/sbvr-types [Pagan Gazzard]
> * Drop node 8 support [Pagan Gazzard]
> * Update tsconfig target to es2018 [Pagan Gazzard]
> * Convert all returned promises to native promises instead of bluebird [Pagan Gazzard]
</details>

## 6.13.6 - 2020-05-19


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### sbvr-parser-1.0.1 - 2020-05-11
> 
> * Update to mocha 7.x [Pagan Gazzard]

> ### sbvr-parser-1.0.0 - 2020-05-08
> 
> * Convert coffeescript tests to javascript [Pagan Gazzard]
> * Drop support for node 6/8 [Pagan Gazzard]
> * Rename to @balena/sbvr-parser [Pagan Gazzard]

> ### sbvr-parser-0.2.11 - 2020-05-08
> 
> * CI: Add nodejs 14 to the test matrix [Pagan Gazzard]
> * CI: Remove circleci publishing in favor of balenaCI [Pagan Gazzard]

> ### sbvr-parser-0.2.10 - 2020-05-08
> 
> * Update to to @balena/sbvr-types [Pagan Gazzard]

> ### sbvr-parser-0.2.9 - 2020-05-08
> 
> * Update to @balena/lint 5.x [Pagan Gazzard]

> ### sbvr-parser-0.2.8 - 2020-04-27
> 
> * Reduce lodash usage [Pagan Gazzard]

> ### lf-to-abstract-sql-4.0.0 - 2020-05-11
> 
> * Include linting as part of the tests [Pagan Gazzard]
> * Convert from UMD module to commonjs module [Pagan Gazzard]
> * Rename to @balena/lf-to-abstract-sql [Pagan Gazzard]
> * Drop support for node 8 [Pagan Gazzard]
> * Move @balena/sbvr-parser to production dependencies [Pagan Gazzard]

> ### lf-to-abstract-sql-3.2.6 - 2020-05-11
> 
> 
<details>
<summary> Update to @balena/sbvr-parser [Pagan Gazzard] </summary>

>> #### sbvr-parser-1.0.1 - 2020-05-11
>> 
>> * Update to mocha 7.x [Pagan Gazzard]

>> #### sbvr-parser-1.0.0 - 2020-05-08
>> 
>> * Convert coffeescript tests to javascript [Pagan Gazzard]
>> * Drop support for node 6/8 [Pagan Gazzard]
>> * Rename to @balena/sbvr-parser [Pagan Gazzard]

>> #### sbvr-parser-0.2.11 - 2020-05-08
>> 
>> * CI: Add nodejs 14 to the test matrix [Pagan Gazzard]
>> * CI: Remove circleci publishing in favor of balenaCI [Pagan Gazzard]

>> #### sbvr-parser-0.2.10 - 2020-05-08
>> 
>> * Update to to @balena/sbvr-types [Pagan Gazzard]

>> #### sbvr-parser-0.2.9 - 2020-05-08
>> 
>> * Update to @balena/lint 5.x [Pagan Gazzard]

>> #### sbvr-parser-0.2.8 - 2020-04-27
>> 
>> * Reduce lodash usage [Pagan Gazzard]
</details>

> 

> ### lf-to-abstract-sql-3.2.5 - 2020-05-08
> 
> * CI: Add nodejs 14 to the test matrix [Pagan Gazzard]

> ### lf-to-abstract-sql-3.2.4 - 2020-05-08
> 
> 
<details>
<summary> Update to @balena/sbvr-types 3.0.0 [Pagan Gazzard] </summary>

>> #### sbvr-types-3.0.0 - 2020-05-08
>> 
>> * Convert `fetchProcessing` to synchronous functions [Pagan Gazzard]
>> * Update to bcrypt 4.x [Pagan Gazzard]
>> * Enable strict tsconfig [Pagan Gazzard]
>> * Make use of `import type` where relevant [Pagan Gazzard]
>> * Update to balena-lint 5.x [Pagan Gazzard]
>> * Rename to @balena/sbvr-types [Pagan Gazzard]
>> * Drop node 8 support [Pagan Gazzard]
>> * Update tsconfig target to es2018 [Pagan Gazzard]
>> * Convert all returned promises to native promises instead of bluebird [Pagan Gazzard]

>> #### sbvr-types-2.0.9 - 2020-05-07
>> 
>> * Switch to balena-lint [Pagan Gazzard]

>> #### sbvr-types-2.0.8 - 2020-05-05
>> 
>> * Improve typings [Pagan Gazzard]

>> #### sbvr-types-2.0.7 - 2020-04-30
>> 
>> * Remove unused imports [Pagan Gazzard]

>> #### sbvr-types-2.0.6 - 2020-04-27
>> 
>> * Remove production lodash dependency [Pagan Gazzard]
</details>

> 

> ### lf-to-abstract-sql-3.2.3 - 2020-04-20
> 
> * Switch to native some [Pagan Gazzard]
> * Switch to native findIndex [Pagan Gazzard]
> * Switch to native every [Pagan Gazzard]
> * Switch to native find [Pagan Gazzard]
> * Switch to native forEach where possible [Pagan Gazzard]
> * Switch to native includes [Pagan Gazzard]
> * Switch to native array type checking [Pagan Gazzard]
> * Switch to native string type checking [Pagan Gazzard]
> * Switch to native Object.assign [Pagan Gazzard]

> ### lf-to-abstract-sql-3.2.2 - 2020-04-16
> 
> * Always treat numbered terms as if they're used [Pagan Gazzard]

> ### lf-to-abstract-sql-3.2.1 - 2020-04-14
> 
> 
<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

>> #### sbvr-types-2.0.5 - 2020-03-17
>> 
>> * CI: Remove circleci deploy in favor of balenaCI [Pagan Gazzard]
>> * CI: Add node 12 to the test matrix [Pagan Gazzard]
>> * CI: Remove node 6 from the test matrix [Pagan Gazzard]
>> * Update dependencies and use resin-lint for automatic lint fixes [Pagan Gazzard]

>> #### sbvr-types-2.0.4 - 2020-01-22
>> 
>> * Add node 12 to the test matrix [Pagan Gazzard]
>> * Update dependencies [Pagan Gazzard]
>> * Add CODEOWNERS [Pagan Gazzard]

>> #### sbvr-parser-0.2.7 - 2020-01-22
>> 
>> * Add CODEOWNERS [Pagan Gazzard]

>> #### sbvr-parser-0.2.6 - 2019-12-30
>> 
>> * Add support for using `of` instead of `that is of` [Pagan Gazzard]

>> #### sbvr-parser-0.2.5 - 2019-12-30
>> 
>> * Add support for `a given` as a universal quantification [Pagan Gazzard]

>> #### sbvr-parser-0.2.4 - 2019-12-27
>> 
>> * Allow including terms as part of a verb by using `[]` brackets [Pagan Gazzard]
</details>

> 

> ### lf-to-abstract-sql-3.2.0 - 2020-04-13
> 
> * Only add the destination of a link table if it's actually necessary [Pagan Gazzard]

> ### lf-to-abstract-sql-3.1.2 - 2020-02-26
> 
> * CI: Remove circleci publishing in favor of balenaCI [Pagan Gazzard]

> ### lf-to-abstract-sql-3.1.1 - 2020-01-22
> 
> * Add CODEOWNERS [Pagan Gazzard]

> ### lf-to-abstract-sql-3.1.0 - 2019-11-01
> 
> * Add support for enum definitions on fact types [Pagan Gazzard]

> ### lf-to-abstract-sql-3.0.2 - 2019-06-14
> 
> * Fix `updateModifiedAt` formatting [Pagan Gazzard]

> ### lf-to-abstract-sql-3.0.1 - 2019-05-08
> 
> * Add node 12 tests [Pagan Gazzard]
> * Add repo.yml for upstream changelogs [Pagan Gazzard]
> * Add .versionbot/CHANGELOG.yml for downstream changelogs [Pagan Gazzard]

> ### lf-to-abstract-sql-3.0.0 - 2019-03-08
> 
> * Add automatic modified at fields [Pagan Gazzard]

> ### odata-parser-2.0.0 - 2020-05-11
> 
> * Rename to @balena/odata-parser [Pagan Gazzard]
> * Update to @balena/lint 5.x [Pagan Gazzard]
> * Drop support for nodejs 8 [Pagan Gazzard]
> * CI: Add nodejs 14 to the test matrix [Pagan Gazzard]
> * CI: Remove circleci publishing in favor of balenaCI [Pagan Gazzard]

> ### odata-to-abstract-sql-3.3.0 - 2019-06-07
> 
> 
<details>
<summary> Make use of odata-parser types [Pagan Gazzard] </summary>

>> #### odata-parser-1.1.1 - 2019-06-07
>> 
>> * Improve typings [Pagan Gazzard]

>> #### odata-parser-1.1.0 - 2019-06-06
>> 
>> * Add typings [Pagan Gazzard]

>> #### abstract-sql-compiler-6.6.0 - 2019-06-03
>> 
>> * Improve aliased from handling in `getReferencedFields` [Pagan Gazzard]

>> #### abstract-sql-compiler-6.5.1 - 2019-06-03
>> 
>> * Use an abstract-sql-optimiser prepass to simplify getReferencedFields [Pagan Gazzard]

>> #### sbvr-parser-0.2.3 - 2019-06-04
>> 
>> * Optimise exactly 0 to not exists [Pagan Gazzard]
</details>

> 

> ### odata-to-abstract-sql-3.2.0 - 2019-05-31
> 
> * Add support for computed fields [Pagan Gazzard]

> ### odata-to-abstract-sql-3.1.3 - 2019-05-31
> 
> 
<details>
<summary> Unify the handling of adding fields with or without a $select [Pagan Gazzard] </summary>

>> #### odata-parser-1.0.4 - 2019-05-27
>> 
>> * Fix adding parameter alias to the options object [Pagan Gazzard]

>> #### odata-parser-1.0.3 - 2019-05-08
>> 
>> * Add .versionbot/CHANGELOG.yml for downstream changelogs [Pagan Gazzard]

>> #### abstract-sql-compiler-6.5.0 - 2019-05-30
>> 
>> * Add support for computed fields [Pagan Gazzard]

>> #### abstract-sql-compiler-6.4.3 - 2019-05-30
>> 
>> * Add tests for `getReferencedFields` [Pagan Gazzard]

>> #### abstract-sql-compiler-6.4.2 - 2019-05-09
>> 
>> * Update and fix lodash typings [Pagan Gazzard]
>> * Update husky/mocha dev dependencies [Pagan Gazzard]

>> #### abstract-sql-compiler-6.4.1 - 2019-05-08
>> 
>> 
<details>
<summary> Fix typescript compilation [Pagan Gazzard] </summary>

>>> ##### sbvr-parser-0.2.2 - 2019-05-08
>>> 
>>> * Add .versionbot/CHANGELOG.yml for downstream changelogs [Pagan Gazzard]
</details>

>> 
>> * Add node 12 tests [Pagan Gazzard]
>> * Add repo.yml for upstream changelogs [Pagan Gazzard]
>> * Add .versionbot/CHANGELOG.yml for downstream changelogs [Pagan Gazzard]
</details>

> 

> ### odata-to-abstract-sql-3.1.2 - 2019-05-08
> 
> * Add node 12 tests [Pagan Gazzard]
> * Add repo.yml for upstream changelogs [Pagan Gazzard]
> * Add .versionbot/CHANGELOG.yml for downstream changelogs [Pagan Gazzard]

> ### odata-to-abstract-sql-3.1.1 - 2019-04-22
> 
> * Fix off-by-one error when having to resort to a random alias [Pagan Gazzard]

> ### odata-to-abstract-sql-3.1.0 - 2019-03-08
> 
> * Add support for definitions for the target table of insert queries [Pagan Gazzard]
> * Add path key where statements to the select subquery for inserts [Pagan Gazzard]
> * Convert == to === [Pagan Gazzard]
</details>

## 6.13.5 - 2020-05-07


<details>
<summary> Improve typing of `dataTypeValidate` and sbvr-types [Pagan Gazzard] </summary>

> ### sbvr-types-2.0.9 - 2020-05-07
> 
> * Switch to balena-lint [Pagan Gazzard]

> ### sbvr-types-2.0.8 - 2020-05-05
> 
> * Improve typings [Pagan Gazzard]

> ### sbvr-types-2.0.7 - 2020-04-30
> 
> * Remove unused imports [Pagan Gazzard]

> ### sbvr-types-2.0.6 - 2020-04-27
> 
> * Remove production lodash dependency [Pagan Gazzard]
</details>

## 6.13.4 - 2020-04-30

* Reduce lodash usage [Pagan Gazzard]

## 6.13.3 - 2020-04-14


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### sbvr-types-2.0.5 - 2020-03-17
> 
> * CI: Remove circleci deploy in favor of balenaCI [Pagan Gazzard]
> * CI: Add node 12 to the test matrix [Pagan Gazzard]
> * CI: Remove node 6 from the test matrix [Pagan Gazzard]
> * Update dependencies and use resin-lint for automatic lint fixes [Pagan Gazzard]

> ### odata-parser-1.4.1 - 2020-04-10
> 
> * Update dependencies [Pagan Gazzard]

> ### odata-parser-1.4.0 - 2020-03-02
> 
> * ✨: Add support for canAccess method call on resource [Andreas Fitzek]
</details>

## 6.13.2 - 2020-03-25

* 📝♻️ : Improve RelationshipMapping typing and docs [Andreas Fitzek]

## 6.13.1 - 2020-02-26

* Only create functions if they don't already exist [Pagan Gazzard]

## 6.13.0 - 2020-02-21

* Add support for sum [Pagan Gazzard]
* Add support for average [Pagan Gazzard]
* Add tests for count [Pagan Gazzard]

## 6.12.0 - 2020-02-21

* Add support for coalesce [Pagan Gazzard]

## 6.11.6 - 2020-02-21


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### sbvr-types-2.0.4 - 2020-01-22
> 
> * Add node 12 to the test matrix [Pagan Gazzard]
> * Update dependencies [Pagan Gazzard]
> * Add CODEOWNERS [Pagan Gazzard]
</details>

## 6.11.5 - 2020-02-06

* Update resin-lint to 3.x and use it for auto-linting [Pagan Gazzard]

## 6.11.4 - 2020-02-06

* Fix query type check [Pagan Gazzard]

## 6.11.3 - 2020-01-22

* Add CODEOWNERS [Pagan Gazzard]

## 6.11.2 - 2020-01-09

* Trim trigger names to the max of 63 characters [Pagan Gazzard]

## 6.11.1 - 2019-11-22

* Update dev dependencies [Pagan Gazzard]

## 6.11.0 - 2019-11-19

* Add support for `CrossJoin` [Pagan Gazzard]

## 6.10.3 - 2019-11-19

* Update dependencies [Pagan Gazzard]

## 6.10.2 - 2019-11-04

* Fix CHECK syntax [Pagan Gazzard]

## 6.10.1 - 2019-11-04

* Fix `compileRule` typings [Pagan Gazzard]

## 6.10.0 - 2019-11-04

* Add support for basic check constraints [Pagan Gazzard]

## 6.9.2 - 2019-10-11

* Allow combining/adding to existing NOT IN statements [Pagan Gazzard]
* Allow combining/adding to existing IN statements [Pagan Gazzard]
* Prioritise collapsing nested ANDs over converting them to an NOT IN [Pagan Gazzard]
* Prioritise collapsing nested ORs over converting them to an IN [Pagan Gazzard]

## 6.9.1 - 2019-09-20

* Switch to a lookup table for finding existing bind var entries [Pagan Gazzard]

## 6.9.0 - 2019-09-16

* Add support for resolving directly circular dependencies on postgres [Pagan Gazzard]

## 6.8.1 - 2019-09-10

* Optimise finding of existing binds when adding a bind variable [Pagan Gazzard]

## 6.8.0 - 2019-08-29

* Add support for inner/left/right/full joins [Pagan Gazzard]

## 6.7.1 - 2019-06-17

* Change `IsDistinctFrom` for postgres to a version that can use indexes [Pagan Gazzard]
* Optimise `IsDistinctFrom`/`IsNotDistinctFrom` when either arg is `Null` [Pagan Gazzard]

## 6.7.0 - 2019-06-14

* Add support for `IsDistinctFrom`/`IsNotDistinctFrom` [Pagan Gazzard]

## 6.6.0 - 2019-06-03

* Improve aliased from handling in `getReferencedFields` [Pagan Gazzard]

## 6.5.1 - 2019-06-03

* Use an abstract-sql-optimiser prepass to simplify getReferencedFields [Pagan Gazzard]

## 6.5.0 - 2019-05-30

* Add support for computed fields [Pagan Gazzard]

## 6.4.3 - 2019-05-30

* Add tests for `getReferencedFields` [Pagan Gazzard]

## 6.4.2 - 2019-05-09

* Update and fix lodash typings [Pagan Gazzard]
* Update husky/mocha dev dependencies [Pagan Gazzard]

## 6.4.1 - 2019-05-08

* Fix typescript compilation [Pagan Gazzard]

<details>
<summary> View details </summary>

### sbvr-parser-0.2.2 - 2019-05-08

* Add .versionbot/CHANGELOG.yml for downstream changelogs [Pagan Gazzard]
</details>

* Add node 12 tests [Pagan Gazzard]
* Add repo.yml for upstream changelogs [Pagan Gazzard]
* Add .versionbot/CHANGELOG.yml for downstream changelogs [Pagan Gazzard]

## 6.4.0 - 2019-03-04

* Add support for trigger functions [Pagan Gazzard]

## 6.3.6 - 2019-01-23

* Fix `FieldNode`s being detected as deprecated aliases [Pagan Gazzard]

## 6.3.5 - 2019-01-22

* Improve typings [Pagan Gazzard]

## 6.3.4 - 2018-12-07

* Update to odata-to-abstract-sql v3.0.0 [Pagan Gazzard]

## 6.3.3 - 2018-11-23

* Fix `FromNode` typing [Pagan Gazzard]

## 6.3.2 - 2018-11-21

* Fix the deprecated implicit alias check to account for implicit tables [Pagan Gazzard]

## 6.3.1 - 2018-11-21

* Support explicit table/alias nodes for the getXFields functions [Pagan Gazzard]

## 6.3.0 - 2018-11-20

* Improve typings [Pagan Gazzard]

## 6.2.1 - 2018-11-16

* Separate src/out dirs to avoid issues with importing .ts over .d.ts [Pagan Gazzard]

## 6.2.0 - 2018-11-15

* Convert AbstractSQLOptimiser to typescript [Pagan Gazzard]
* Convert AbstractSQLRules2SQL to typescript [Pagan Gazzard]

## 6.1.2 - 2018-11-13

* Add resin-lint for typescript and a commit hook to run it [Pagan Gazzard]
* Split the types for sbvr-types into a separate definition file [Pagan Gazzard]
* Add resin-lint for coffee files [Pagan Gazzard]

## 6.1.1 - 2018-11-10

* Optimise checking for aliases with a fast lookahead check [Pagan Gazzard]
* Fix potentially incorrect `And` collapsing [Pagan Gazzard]

## v6.1.0 - 2018-11-03

* Switch to generating commonjs format [Pagan Gazzard]

## v6.0.1 - 2018-10-25

* Tighten alias/table name matches to strings [Pagan Gazzard]
* Optimise the `Select` rule by removing redundant branches [Pagan Gazzard]

## v6.0.0 - 2018-10-11

* Update to sbvr-types 2.x [Pagan Gazzard]

## v5.3.4 - 2018-10-04

* Update lf-to-abstract-sql, updating tests to match [Pagan Gazzard]
* Update dependencies [Pagan Gazzard]

## v5.3.3 - 2018-08-13

* Feature: Add support for CASE/WHEN/ELSE/END #35 [Rich Bayliss]

## v5.3.2 - 2018-07-31

* Don't try to merge `IS NULL` into an `IN` clause as it doesn't work #36 [Pagan Gazzard]

## v5.3.1 - 2018-06-24

* Make sure direct table names are strings, this avoid issues if parsing a SelectQuery fails. #33 [Pagan Gazzard]

## v5.3.0 - 2018-06-14

* Allow reusing bind parameters for the postgres backend rather than duplicating for each instance. #32 [Pagan Gazzard]

## v5.2.1 - 2018-06-09

* Update lf-to-abstract-sql and fix tests. #31 [Pagan Gazzard]

## v5.2.0 - 2018-06-08

* Add support for string bind keys #30 [Pagan Gazzard]

## v5.1.2 - 2018-06-04

* Fix `test.skip`/`test.only`/etc for the sbvr tests #28 [Pagan Gazzard]

## v5.1.1 - 2018-06-04

* Update dependencies #29 [Pagan Gazzard]

## v5.1.0 - 2018-06-01

* Change CONTAINS to use LIKE instead of STRPOS. #27 [Pagan Gazzard]
* Change EndsWith to use LIKE instead of RIGHT to avoid duplicating the needle. #27 [Pagan Gazzard]
* Change StartsWith to use LIKE instead of STRPOS so that it can make better use of indexes. #27 [Pagan Gazzard]

## v5.0.4 - 2018-05-10

* Update dependencies #25 [Pagan Gazzard]

## v5.0.3 - 2018-05-10

* Switch types to using generated declaration files, this avoids issues with the typescript code being rechecked downstream. #26 [Pagan Gazzard]

## v5.0.2 - 2018-05-10

* Require npm 4+ to publish, to avoid issues with publishing #24 [Pagan Gazzard]

## v5.0.1 - 2018-04-30

* Add node 10 to the circleci tests #23 [Pagan Gazzard]
* Move circle.yml to .circleci/config.yml #23 [Pagan Gazzard]

## v5.0.0 - 2018-04-25

* Change the references format to expect a `resourceName` rather than a `tableName` #22 [Pagan Gazzard]

## v4.1.1 - 2018-04-25

* Update tests to use odata-to-abstract-sql 1.2.0 #21 [Pagan Gazzard]

## v4.1.0 - 2018-04-23

* Support the `Or` -> `In` optimisation for cases where you have mixed comparisons in an or block, allowing it to be used in a lot more cases. #19 [Pagan Gazzard]
* Make sure the nested or optimisation hits the validator method directly, avoiding other optimisations breaking it. #19 [Pagan Gazzard]

## v4.0.0 - 2018-04-11

* Generate numbered bindings for postgres rather than ? #17 [Pagan Gazzard]

## v3.3.0 - 2018-01-05

* Add support for union queries. #16 [Pagan Gazzard]

## v3.2.2 - 2018-01-05

* Update dependencies #15 [Pagan Gazzard]

## v3.2.1 - 2017-12-11

* Lock types versions and fix type errors. #14 [Pagan Gazzard]
* Set up circleci auto-publishing #14 [Pagan Gazzard]

## v3.2.0 - 2017-10-24

* Updated dependencies and rewrote tests to account for breaking changes #12 [Giovanni Garufi]

## v3.1.0 - 2017-10-02

* Convert AbstractSQLCompiler to typescript and add typings for the OMeta parts #11 [Pagan Gazzard]
* Added versionist #11 [Giovanni Garufi]

## v3.0.0

* Changed API to pass rule bindings along with the compiled query.

## v2.3.3

* Fixed checking for unresolved dependencies

## v2.3.2

* Fixed checking of dependencies when there is self-reference for a resource where the resource name and table name are different

## v2.3.1

* Fixed added referenced fields to rules

## v2.3.0

* Add `getReferencedFields` and `getModifiedFields` functions.
* Add `referencedFields` info to compiled rules.
* Update coffeescript to ~1.12.6

## v2.2.0

* Added support for numbered binds.
* Added a test for a self-referential expand (`pilot?$expand=pilot`)

## v2.1.0

* Added a test for a rule with numbered terms.
* Added some tests from the sbvr-parser that were missing here.
* Added a non-primitive concept type test to the pilots tests.
* Added support for $count
* Added tests for $count
* Updated the client model for tests
* Updated tests

## v2.0.0

* Stopped treating an empty string as null.

## v1.2.0

* Added support for duration literals.
* Added support for `Contains`, `Now`, `Year`, `Month`, `Day`, `Hour`, `Minute`, `Second`, `FractionalSeconds`, `ToDate`, `ToTime`, and `TotalSeconds`.
* Avoided issues with wildchard characters in `Substringof`, `StartsWith`, and `EndsWith`.
* Fixed `InStr` and `IndexOf`.
* Updated the sbvr model for tests.

## v1.1.0

* `AggregateJSON` now returns an empty array instead of null in the case of zero results.
* Updated to lodash 4

## v1.0.2

* Update ometa-js

## v1.0.1

* Correctly adjust INSTR/STRPOS, INSTR is the zero-indexed one!
* Change startswith and endswith from `(needle, haystack)` to `(haystack, needle)`, to match the OData spec.
* Updated to bluebird 3.

## v0.4.2

* Update @resin/odata-to-abstract-sql to ~0.3.0, adding matching tests.

## v0.4.1

* Fixed requirejs import path.

## v0.4.0

* Added support for specifying a `defaultValue` for a field.
* Added schema generation support.
* Changed the exported `compile(engine, abstractSQL)` function to `[engine].compileRule(abstractsql)`

## v0.3.2

* Fixed an issue with auto incrementing fields of websql/mysql.

## v0.3.1

* Updated lodash to ^3.0.0
* Updated sbvr-types to v0.1.1

## v0.3.0

* Updated sbvr-types to v0.1.0
* Updated lodash to ~3.0.0

## v0.2.1

* Optimised not exists statements.
* Added tests for true/false.
* Added support for `'Null'` as well as `null` for null valus.
* Changed comparisons against null to use `IS NULL`/`IS NOT NULL`

## v0.2.0

* Switch to using bind vars for embedded number/text values.
* Switched to using multiple part UPSERT queries, allowing greater flexibility.
* Simplified NULL handling.

## v0.1.1

* Added support for CAST.

## v0.1.0

* Added support for select queries in the values clause.
